import React, { useState, useEffect } from '@tarojs/taro'
import { View } from '@tarojs/components'

import './index.less'

export default function TaroComponent(props) {
  const {
    title = '', // 标题
    onTitleClick = () => {} // 点击标题回调
  } = props

  const [value, setValue] = useState(0)

  useEffect(() => {
    setValue(Math.random())
  }, [])

  // 点击标题
  const handleTitleClick = () => {
    onTitleClick && onTitleClick()
  }

  // 点击数值
  const handleValueClick = () => {
    setValue(Math.random())
  }

  return (
    <View className='taro-component-wrap'>
      <View className='taro-component-title' onClick={handleTitleClick}>
        {title}
      </View>
      <View className='taro-component-content'>
        <View className='taro-component-value' onClick={handleValueClick}>
          {`${value}-${value}-${value}`}
        </View>
      </View>
    </View>
  )
}
