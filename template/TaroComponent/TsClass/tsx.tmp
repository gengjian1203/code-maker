import Taro, { Component } from '@tarojs/taro'
import { View } from '@tarojs/components'

import './index.less'

export default class TaroComponent extends Component {
  constructor(props) {
    super(props)
    this.state = {
      value: 0
    }
  }

  // 点击标题
  handleTitleClick = () => {
    const { onTitleClick = () => {} } = this.props
    onTitleClick && onTitleClick()
  }

  // 点击数值
  handleValueClick = () => {
    this.setState({
      value: Math.random()
    })
  }

  render() {
    const { value } = this.state
    const { title = '' } = this.props

    return (
      <View className='taro-component-wrap'>
        <View className='taro-component-title' onClick={this.handleTitleClick}>
          {title}
        </View>
        <View className='taro-component-content'>
          <View className='taro-component-value' onClick={this.handleValueClick}>
            {`${value}-${value}-${value}`}
          </View>
        </View>
      </View>
    )
  }
}